
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>III - Est-ce que le nutriscore contribue à améliorer la santé des français ? Dans ce but, est ce que le nutriscore permet de manger équilibrer ? &#8212; Améliorer la santé des français</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="IV - Objectif une meilleure santé pour tous : Application Smart Food" href="ScriptFood_Analyse_p4.html" />
    <link rel="prev" title="II - Présentation de la base de données" href="ScriptFood_Analyse_p2.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.bmp" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Améliorer la santé des français</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Rechercher dans ce livre ..." aria-label="Rechercher dans ce livre ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Objectif : Améliorer la santé des français book
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="ScriptFood_Analyse_p1.html">
   I - Contexte du projet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ScriptFood_Analyse_p2.html">
   II - Présentation de la base de données
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   III - Est-ce que le nutriscore contribue à améliorer la santé des français ? Dans ce but, est ce que le nutriscore permet de manger équilibrer ?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ScriptFood_Analyse_p4.html">
   IV - Objectif une meilleure santé pour tous : Application Smart Food
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ScriptFood_Analyse_p5.html">
   V - Combinaison des aliments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ScriptFood_Analyse_p6.html">
   Conclusion - Un Apport journalier équilibré
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Basculer la navigation" aria-controls="site-navigation"
                title="Basculer la navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Téléchargez cette page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/ScriptFood_Analyse_p3.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Télécharger le fichier source" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Imprimer au format PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/AurelieAAN/OP_Project3"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Dépôt source"><i
                    class="fab fa-github"></i>dépôt</button></a>
        <a class="issues-button"
            href="https://github.com/AurelieAAN/OP_Project3/issues/new?title=Issue%20on%20page%20%2FScriptFood_Analyse_p3.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Ouvrez un problème"><i class="fas fa-lightbulb"></i>signaler un problème</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Mode plein écran"
        title="Mode plein écran"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/AurelieAAN/OP_Project3/master?urlpath=tree/docs/ScriptFood_Analyse_p3.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="lancement Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contenu
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#nos-variables">
   Nos variables
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quels-sont-ses-caracteristiques">
   Quels sont ses caractéristiques ?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#techniquement-voici-les-elements-qui-agit-sur-le-nutriscore">
     Techniquement, voici les éléments qui agit sur le nutriscore :
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#est-ce-que-si-nous-mangeons-que-des-aliments-avec-un-nutriscore-a-serons-nous-en-bonne-sante">
   1) Est - ce que si nous mangeons que des aliments avec un nutriscore A, serons - nous en bonne santé ?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparons-les-informations-des-differentes-notes">
     Comparons les informations  des différentes notes.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analyse-bivariee-etudions-le-lien-entre-la-variable-nutrition-grade-fr-et-les-autres-variables">
     Analyse bivariée : Etudions le lien entre la variable nutrition_grade_fr et les autres variables.
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#statistiques-inferentielles-anova-et-test-de-krusdall-wallis">
   2) Statistiques inférentielles : ANOVA et Test de Krusdall-Wallis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-essayons-de-modeliser-nos-donnees-avec-une-anova">
   a) Essayons de modéliser nos données avec une ANOVA
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#l-independance-entre-nos-groupes">
     L’indépendance entre nos groupes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#l-egalite-des-variances">
     L’égalité des variances
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#les-residus-doivent-suivre-une-loi-normale">
       Les résidus doivent suivre une loi normale
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#b-utilisons-le-test-de-krusdall-utilise-les-rangs-au-lieu-des-moyennes">
   b) Utilisons le test de Krusdall (utilise les rangs au lieu des moyennes)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusion-nutriscore">
   Conclusion Nutriscore
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="iii-est-ce-que-le-nutriscore-contribue-a-ameliorer-la-sante-des-francais-dans-ce-but-est-ce-que-le-nutriscore-permet-de-manger-equilibrer">
<h1>III - Est-ce que le nutriscore contribue à améliorer la santé des français ? Dans ce but, est ce que le nutriscore permet de manger équilibrer ?<a class="headerlink" href="#iii-est-ce-que-le-nutriscore-contribue-a-ameliorer-la-sante-des-francais-dans-ce-but-est-ce-que-le-nutriscore-permet-de-manger-equilibrer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="nos-variables">
<h2>Nos variables<a class="headerlink" href="#nos-variables" title="Permalink to this headline">¶</a></h2>
<p>Nous allons commencer par sélectionner les colonnes qu’il nous faut pour améliorer la santé des français.</p>
<p>Certains organismes officiels, comme l’AFSSA (Agence française de sécurité sanitaire des aliments), ont crée des recommandations sous forme d’apports nutritionnels conseillés (ANC) pour chaque type de nutriment.</p>
<p>source : <a class="reference external" href="https://www.vidal.fr/sante/nutrition/equilibre-alimentaire-adulte/recommandations-nutritionnelles-adulte/en-pratique.html">https://www.vidal.fr/sante/nutrition/equilibre-alimentaire-adulte/recommandations-nutritionnelles-adulte/en-pratique.html</a></p>
<p>Selon le tableau nutritionnel, voici les informations dont nous avons besoin : Glucides, Lipides, Protéines, Fibres. Et les aliments qui contiennent de l’huile de palme sont à notifier.</p>
<p>Comment le Nutri-Score Fr est-il calculé?</p>
<p>Points négatifs : l’énergie, les graisses saturées, les sucres, et le sel (des niveaux élevés sont considérés comme mauvais pour la santé)</p>
<p>Points positifs : la proportion de fruits, de légumes, de noix, d’huiles d’olive, de colza et de noix, de fibres et de protéines (les niveaux élevés sont considérés comme bons pour la santé).</p>
<p>Sélectionnons donc seulement les colonnes nécessaires à notre étude. Nous sélectionnons tous les aliments même ceux qui ne sont pas vendu en France. En effet, ils peuvent être vendus prochainement et être interessant pour notre étude.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">~</span>\<span class="n">AppData</span>\<span class="n">Local</span>\<span class="n">Temp</span><span class="o">/</span><span class="n">ipykernel_15000</span><span class="o">/</span><span class="mf">2295596747.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span>

<span class="ne">NameError</span>: name &#39;data&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_study</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="s2">&quot;product_name&quot;</span><span class="p">,</span>  
            <span class="s2">&quot;ingredients_text&quot;</span><span class="p">,</span><span class="s2">&quot;energy_100g&quot;</span><span class="p">,</span> <span class="s2">&quot;carbohydrates_100g&quot;</span><span class="p">,</span> <span class="s2">&quot;proteins_100g&quot;</span><span class="p">,</span> <span class="s2">&quot;fat_100g&quot;</span><span class="p">,</span>
            <span class="s2">&quot;saturated_fat_100g&quot;</span><span class="p">,</span> <span class="s2">&quot;fiber_100g&quot;</span><span class="p">,</span> <span class="s2">&quot;sugars_100g&quot;</span><span class="p">,</span> <span class="s2">&quot;salt_100g&quot;</span><span class="p">,</span>
             <span class="s2">&quot;additives_n&quot;</span><span class="p">,</span> <span class="s2">&quot;ingredients_from_palm_oil&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ingredients_from_palm_oil_n&quot;</span><span class="p">,</span> <span class="s2">&quot;ingredients_that_may_be_from_palm_oil_n&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">,</span> <span class="s2">&quot;main_category&quot;</span><span class="p">,</span> <span class="s2">&quot;nutrition_score_fr_100g&quot;</span><span class="p">,</span> <span class="s1">&#39;reg_additives&#39;</span><span class="p">,</span>
       <span class="s1">&#39;reg_energy&#39;</span><span class="p">,</span> <span class="s1">&#39;reg_fat&#39;</span><span class="p">,</span> <span class="s1">&#39;reg_carbohydrates&#39;</span><span class="p">,</span> <span class="s1">&#39;reg_fiber&#39;</span><span class="p">,</span> 
       <span class="s1">&#39;reg_protein&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_study</span><span class="o">=</span><span class="n">data_study</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">energy_100g</span><span class="p">)</span><span class="o">==</span><span class="kc">False</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">carbohydrates_100g</span><span class="p">)</span><span class="o">==</span><span class="kc">False</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">proteins_100g</span><span class="p">)</span><span class="o">==</span><span class="kc">False</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">fat_100g</span><span class="p">)</span><span class="o">==</span><span class="kc">False</span><span class="p">)</span>
       <span class="o">&amp;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;fiber_100g&quot;</span><span class="p">])</span><span class="o">==</span><span class="kc">False</span><span class="p">)</span><span class="o">&amp;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;additives_n&quot;</span><span class="p">])</span><span class="o">==</span><span class="kc">False</span><span class="p">)</span>
<span class="o">&amp;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;nutrition_score_fr_100g&quot;</span><span class="p">])</span><span class="o">==</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">&amp;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">])</span><span class="o">==</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">&amp;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;additives_n&quot;</span><span class="p">])</span><span class="o">==</span><span class="kc">False</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="quels-sont-ses-caracteristiques">
<h2>Quels sont ses caractéristiques ?<a class="headerlink" href="#quels-sont-ses-caracteristiques" title="Permalink to this headline">¶</a></h2>
<div class="section" id="techniquement-voici-les-elements-qui-agit-sur-le-nutriscore">
<h3>Techniquement, voici les éléments qui agit sur le nutriscore :<a class="headerlink" href="#techniquement-voici-les-elements-qui-agit-sur-le-nutriscore" title="Permalink to this headline">¶</a></h3>
<p>Points négatifs : l’énergie, les graisses saturées, les sucres, et le sel (des niveaux élevés sont considérés comme mauvais pour la santé)</p>
<p>Points positifs : la proportion de fruits, de légumes, de noix, d’huiles d’olive, de colza et de noix, de fibres et de protéines (les niveaux élevés sont considérés comme bons pour la santé).</p>
</div>
</div>
<div class="section" id="est-ce-que-si-nous-mangeons-que-des-aliments-avec-un-nutriscore-a-serons-nous-en-bonne-sante">
<h2>1) Est - ce que si nous mangeons que des aliments avec un nutriscore A, serons - nous en bonne santé ?<a class="headerlink" href="#est-ce-que-si-nous-mangeons-que-des-aliments-avec-un-nutriscore-a-serons-nous-en-bonne-sante" title="Permalink to this headline">¶</a></h2>
<div class="section" id="comparons-les-informations-des-differentes-notes">
<h3>Comparons les informations  des différentes notes.<a class="headerlink" href="#comparons-les-informations-des-differentes-notes" title="Permalink to this headline">¶</a></h3>
<p>Excluons les données non renseignées du Nutriscore.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataN</span> <span class="o">=</span> <span class="n">data_study</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">]</span><span class="o">!=</span><span class="s2">&quot;AUTRES&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="analyse-bivariee-etudions-le-lien-entre-la-variable-nutrition-grade-fr-et-les-autres-variables">
<h3>Analyse bivariée : Etudions le lien entre la variable nutrition_grade_fr et les autres variables.<a class="headerlink" href="#analyse-bivariee-etudions-le-lien-entre-la-variable-nutrition-grade-fr-et-les-autres-variables" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataN</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>energy_100g</th>
      <th>carbohydrates_100g</th>
      <th>proteins_100g</th>
      <th>fat_100g</th>
      <th>saturated_fat_100g</th>
      <th>fiber_100g</th>
      <th>sugars_100g</th>
      <th>salt_100g</th>
      <th>additives_n</th>
      <th>ingredients_from_palm_oil_n</th>
      <th>ingredients_that_may_be_from_palm_oil_n</th>
      <th>nutrition_score_fr_100g</th>
      <th>reg_additives</th>
      <th>reg_energy</th>
      <th>reg_fat</th>
      <th>reg_carbohydrates</th>
      <th>reg_fiber</th>
      <th>reg_protein</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
      <td>51618.000000</td>
      <td>64838.000000</td>
      <td>64838.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>393.800472</td>
      <td>12.297465</td>
      <td>4.740160</td>
      <td>3.089099</td>
      <td>1.048028</td>
      <td>1.452355</td>
      <td>6.461460</td>
      <td>0.895311</td>
      <td>1.667032</td>
      <td>0.005398</td>
      <td>0.041534</td>
      <td>2.278818</td>
      <td>-2.209538</td>
      <td>303.252969</td>
      <td>-1.136552</td>
      <td>3.801484</td>
      <td>-2.268461</td>
      <td>0.847448</td>
    </tr>
    <tr>
      <th>std</th>
      <td>244.823885</td>
      <td>11.115141</td>
      <td>6.129425</td>
      <td>4.526895</td>
      <td>2.005328</td>
      <td>2.841038</td>
      <td>8.245909</td>
      <td>2.005498</td>
      <td>2.225447</td>
      <td>0.074111</td>
      <td>0.216075</td>
      <td>5.440175</td>
      <td>3.728132</td>
      <td>234.729574</td>
      <td>5.369017</td>
      <td>2.918439</td>
      <td>3.783110</td>
      <td>6.674019</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>-15.000000</td>
      <td>-5.000000</td>
      <td>-5.000000</td>
      <td>-5.000000</td>
      <td>1.000000</td>
      <td>-5.000000</td>
      <td>-5.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>197.000000</td>
      <td>4.760000</td>
      <td>0.700000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.900000</td>
      <td>0.083820</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>-1.000000</td>
      <td>-5.000000</td>
      <td>169.000000</td>
      <td>-5.000000</td>
      <td>1.000000</td>
      <td>-5.000000</td>
      <td>-5.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>347.000000</td>
      <td>10.000000</td>
      <td>2.560000</td>
      <td>1.060000</td>
      <td>0.000000</td>
      <td>0.800000</td>
      <td>3.330000</td>
      <td>0.497840</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>-5.000000</td>
      <td>327.000000</td>
      <td>-5.000000</td>
      <td>3.000000</td>
      <td>-5.000000</td>
      <td>2.260000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>573.000000</td>
      <td>16.670000</td>
      <td>6.060000</td>
      <td>4.550000</td>
      <td>1.330000</td>
      <td>2.000000</td>
      <td>9.357500</td>
      <td>1.036320</td>
      <td>2.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>5.000000</td>
      <td>1.000000</td>
      <td>508.000000</td>
      <td>2.250000</td>
      <td>5.000000</td>
      <td>1.250000</td>
      <td>2.260000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>901.000000</td>
      <td>100.000000</td>
      <td>86.000000</td>
      <td>100.000000</td>
      <td>87.000000</td>
      <td>45.000000</td>
      <td>100.000000</td>
      <td>40.000000</td>
      <td>24.000000</td>
      <td>2.000000</td>
      <td>4.000000</td>
      <td>26.000000</td>
      <td>9.000000</td>
      <td>709.000000</td>
      <td>42.900000</td>
      <td>10.000000</td>
      <td>25.000000</td>
      <td>21.740000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">percentile</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">percentile_</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="kc">False</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">percentile_</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="s1">&#39;percentile_</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">n</span>
    <span class="k">return</span> <span class="n">percentile_</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">data_study</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;float64&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dataN</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">)[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">,</span> <span class="n">percentile</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span> <span class="n">percentile</span><span class="p">(</span><span class="mi">75</span><span class="p">)]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>energy_100g
                    median  amin   amax  percentile_25  percentile_75
nutrition_grade_fr                                                   
A                    310.0   0.0  900.0         184.00          448.0
B                    259.0   0.0  901.0         151.00          435.0
C                    448.0   0.0  901.0         259.00          649.0
D                    703.0   0.0  901.0         505.25          837.0
E                    220.0   0.0  896.0         176.00          736.0
carbohydrates_100g
                    median  amin    amax  percentile_25  percentile_75
nutrition_grade_fr                                                    
A                    9.385   0.0   90.58           4.58        14.7500
B                    8.860   0.0  100.00           4.58        13.7500
C                   11.200   0.0  100.00           5.70        20.1000
D                   13.270   0.0  100.00           4.20        25.7475
E                   10.900   0.0  100.00           9.00        16.0500
proteins_100g
                    median  amin   amax  percentile_25  percentile_75
nutrition_grade_fr                                                   
A                     3.85   0.0  66.67           1.77           7.89
B                     1.60   0.0  82.00           0.42           4.17
C                     1.77   0.0  44.12           0.00           4.62
D                     3.08   0.0  46.43           0.00          12.50
E                     0.19   0.0  86.00           0.00           0.70
fat_100g
                    median  amin   amax  percentile_25  percentile_75
nutrition_grade_fr                                                   
A                     0.56   0.0   50.0            0.0           2.15
B                     0.89   0.0   92.0            0.0           3.33
C                     2.68   0.0  100.0            0.0           7.00
D                     7.89   0.0  100.0            0.0          11.67
E                     0.00   0.0   37.0            0.0           0.50
saturated_fat_100g
                    median  amin   amax  percentile_25  percentile_75
nutrition_grade_fr                                                   
A                     0.00   0.0   6.25            0.0           0.44
B                     0.00   0.0   8.80            0.0           1.00
C                     0.59   0.0  28.57            0.0           2.46
D                     1.79   0.0  87.00            0.0           5.74
E                     0.00   0.0  24.00            0.0           0.10
fiber_100g
                    median  amin  amax  percentile_25  percentile_75
nutrition_grade_fr                                                  
A                      2.2   0.0  44.4            0.9            3.5
B                      0.8   0.0  34.5            0.0            1.6
C                      0.4   0.0  44.4            0.0            1.3
D                      0.0   0.0  34.1            0.0            0.0
E                      0.0   0.0  45.0            0.0            0.2
sugars_100g
                    median  amin    amax  percentile_25  percentile_75
nutrition_grade_fr                                                    
A                     2.35   0.0   34.60           0.77         4.7300
B                     3.57   0.0   40.00           1.14         8.8000
C                     4.00   0.0  100.00           1.10        14.1850
D                     6.67   0.0   93.33           1.67        21.1575
E                    10.40   0.0  100.00           8.50        16.0000
salt_100g
                     median  amin       amax  percentile_25  percentile_75
nutrition_grade_fr                                                        
A                   0.21082   0.0  11.853164        0.06858       0.665480
B                   0.37846   0.0  13.000000        0.03810       0.838200
C                   0.92710   0.0  40.000000        0.13970       1.525270
D                   1.99136   0.0  39.227760        0.26162       2.839085
E                   0.03000   0.0  39.794180        0.00762       2.153920
additives_n
                    median  amin  amax  percentile_25  percentile_75
nutrition_grade_fr                                                  
A                      0.0   0.0  18.0            0.0            1.0
B                      1.0   0.0  23.0            0.0            2.0
C                      1.0   0.0  24.0            0.0            3.0
D                      2.0   0.0  18.0            0.0            4.0
E                      2.0   0.0  17.0            1.0            3.0
ingredients_from_palm_oil_n
                    median  amin  amax  percentile_25  percentile_75
nutrition_grade_fr                                                  
A                      0.0   0.0   2.0            0.0            0.0
B                      0.0   0.0   1.0            0.0            0.0
C                      0.0   0.0   2.0            0.0            0.0
D                      0.0   0.0   1.0            0.0            0.0
E                      0.0   0.0   1.0            0.0            0.0
ingredients_that_may_be_from_palm_oil_n
                    median  amin  amax  percentile_25  percentile_75
nutrition_grade_fr                                                  
A                      0.0   0.0   3.0            0.0            0.0
B                      0.0   0.0   3.0            0.0            0.0
C                      0.0   0.0   3.0            0.0            0.0
D                      0.0   0.0   4.0            0.0            0.0
E                      0.0   0.0   2.0            0.0            0.0
nutrition_score_fr_100g
                    median  amin  amax  percentile_25  percentile_75
nutrition_grade_fr                                                  
A                     -3.0 -15.0  17.0           -4.0           -1.0
B                      1.0  -6.0   2.0            0.0            2.0
C                      5.0   2.0  10.0            3.0            7.0
D                     12.0   6.0  18.0           11.0           14.0
E                     15.0  10.0  26.0           13.0           19.0
reg_additives
                    median  amin  amax  percentile_25  percentile_75
nutrition_grade_fr                                                  
A                     -5.0  -5.0   9.0           -5.0           -5.0
B                     -5.0  -5.0   9.0           -5.0            1.0
C                     -5.0  -5.0   9.0           -5.0            1.0
D                      1.0  -5.0   9.0           -5.0            3.0
E                      1.0  -5.0   9.0           -5.0            1.0
reg_energy
                    median  amin   amax  percentile_25  percentile_75
nutrition_grade_fr                                                   
A                    169.0  -5.0  709.0          169.0          327.0
B                    169.0  -5.0  709.0           -5.0          327.0
C                    327.0  -5.0  709.0          169.0          508.0
D                    508.0  -5.0  709.0          327.0          709.0
E                    169.0  -5.0  709.0          169.0          709.0
reg_fat
                    median  amin   amax  percentile_25  percentile_75
nutrition_grade_fr                                                   
A                    -5.00  -5.0  42.90           -5.0          -5.00
B                    -5.00  -5.0  42.90           -5.0           2.25
C                     2.25  -5.0  42.90           -5.0           6.58
D                     6.58  -5.0  42.90           -5.0           6.58
E                    -5.00  -5.0  12.58           -5.0          -5.00
reg_carbohydrates
                    median  amin  amax  percentile_25  percentile_75
nutrition_grade_fr                                                  
A                      3.0   1.0  10.0            1.0            5.0
B                      3.0   1.0  10.0            1.0            5.0
C                      3.0   1.0  10.0            1.0            5.0
D                      5.0   1.0  10.0            1.0           10.0
E                      3.0   1.0  10.0            3.0           10.0
reg_fiber
                    median  amin  amax  percentile_25  percentile_75
nutrition_grade_fr                                                  
A                     1.25  -5.0  25.0           -5.0           1.25
B                    -5.00  -5.0  25.0           -5.0           1.25
C                    -5.00  -5.0  25.0           -5.0           1.25
D                    -5.00  -5.0  25.0           -5.0          -5.00
E                    -5.00  -5.0  25.0           -5.0          -5.00
reg_protein
                    median  amin   amax  percentile_25  percentile_75
nutrition_grade_fr                                                   
A                     2.26  -5.0  21.74           -5.0           6.45
B                    -5.00  -5.0  21.74           -5.0           2.26
C                    -5.00  -5.0  21.74           -5.0           2.26
D                     2.26  -5.0  21.74           -5.0           6.45
E                    -5.00  -5.0  21.74           -5.0          -5.00
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">data_study</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;float64&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;moyenne &quot;</span><span class="o">+</span><span class="n">col</span> <span class="o">+</span><span class="s2">&quot; = &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">dataN</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()))</span>
    <span class="n">pk</span><span class="o">.</span><span class="n">graph_boxplot_by_group</span><span class="p">(</span><span class="n">dataN</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">,</span> <span class="s2">&quot;Boite à moustache de la variable &quot;</span><span class="o">+</span><span class="n">col</span><span class="o">+</span><span class="s2">&quot; en fonction du nutriscore&quot;</span><span class="p">,</span> <span class="s2">&quot;rocket_r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>moyenne energy_100g = 393.80047194546404
moyenne carbohydrates_100g = 12.297464510009565
moyenne proteins_100g = 4.740160247077331
moyenne fat_100g = 3.0890985872482184
moyenne saturated_fat_100g = 1.048028095561245
moyenne fiber_100g = 1.4523551497578582
moyenne sugars_100g = 6.461460024985348
moyenne salt_100g = 0.8953109827327492
moyenne additives_n = 1.6670316789537
moyenne ingredients_from_palm_oil_n = 0.005398069033591413
moyenne ingredients_that_may_be_from_palm_oil_n = 0.0415342854498905
moyenne nutrition_score_fr_100g = 2.2788179771121873
moyenne reg_additives = -2.209537616829637
moyenne reg_energy = 303.2529689379685
moyenne reg_fat = -1.136552484654061
moyenne reg_carbohydrates = 3.8014839784571275
moyenne reg_fiber = -2.2684613960948825
moyenne reg_protein = 0.8474484098830932
</pre></div>
</div>
<img alt="_images/ScriptFood_Analyse_p3_15_1.png" src="_images/ScriptFood_Analyse_p3_15_1.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_2.png" src="_images/ScriptFood_Analyse_p3_15_2.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_3.png" src="_images/ScriptFood_Analyse_p3_15_3.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_4.png" src="_images/ScriptFood_Analyse_p3_15_4.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_5.png" src="_images/ScriptFood_Analyse_p3_15_5.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_6.png" src="_images/ScriptFood_Analyse_p3_15_6.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_7.png" src="_images/ScriptFood_Analyse_p3_15_7.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_8.png" src="_images/ScriptFood_Analyse_p3_15_8.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_9.png" src="_images/ScriptFood_Analyse_p3_15_9.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_10.png" src="_images/ScriptFood_Analyse_p3_15_10.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_11.png" src="_images/ScriptFood_Analyse_p3_15_11.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_12.png" src="_images/ScriptFood_Analyse_p3_15_12.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_13.png" src="_images/ScriptFood_Analyse_p3_15_13.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_14.png" src="_images/ScriptFood_Analyse_p3_15_14.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_15.png" src="_images/ScriptFood_Analyse_p3_15_15.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_16.png" src="_images/ScriptFood_Analyse_p3_15_16.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_17.png" src="_images/ScriptFood_Analyse_p3_15_17.png" />
<img alt="_images/ScriptFood_Analyse_p3_15_18.png" src="_images/ScriptFood_Analyse_p3_15_18.png" />
</div>
</div>
<p>Grâce à ces boites à moustache, nous remarquons qu’ils restent des données extrêmes. Mais dans ce contexte, nous devons les conserver pour ne pas perdre d’information.</p>
<p>Les boites à moustache sont peu dispersées même si en fonction des notes, leur dispersion peuvent plus ou moins varié.</p>
<p>Comment pouvons - nous décrire les aliments avec une note A ?</p>
<ul class="simple">
<li><p>riches en fibres et en proteines</p></li>
<li><p>peu de sel, de sucre et de matières grasses (y compris en graisses saturés)</p></li>
<li><p>faible en additifs</p></li>
<li><p>apport en energie proche de la moyenne</p></li>
</ul>
<p>Comment pouvons - nous décrire les aliments avec une note E ?</p>
<ul class="simple">
<li><p>riches en sucre, en additif et en glucides</p></li>
<li><p>pauvres en fibres, proteines, sel</p></li>
<li><p>une energie qui varie beaucoup dans les extrêmes.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataN</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;code&#39;, &#39;product_name&#39;, &#39;ingredients_text&#39;, &#39;energy_100g&#39;,
       &#39;carbohydrates_100g&#39;, &#39;proteins_100g&#39;, &#39;fat_100g&#39;, &#39;saturated_fat_100g&#39;,
       &#39;fiber_100g&#39;, &#39;sugars_100g&#39;, &#39;salt_100g&#39;, &#39;additives_n&#39;,
       &#39;ingredients_from_palm_oil&#39;, &#39;ingredients_from_palm_oil_n&#39;,
       &#39;ingredients_that_may_be_from_palm_oil_n&#39;, &#39;nutrition_grade_fr&#39;,
       &#39;main_category&#39;, &#39;nutrition_score_fr_100g&#39;, &#39;reg_additives&#39;,
       &#39;reg_energy&#39;, &#39;reg_fat&#39;, &#39;reg_carbohydrates&#39;, &#39;reg_fiber&#39;,
       &#39;reg_protein&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">,</span> <span class="n">hue</span> <span class="o">=</span> <span class="s2">&quot;ingredients_from_palm_oil&quot;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">dataN</span><span class="p">,</span> <span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;rocket&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x23b388ceeb0&gt;
</pre></div>
</div>
<img alt="_images/ScriptFood_Analyse_p3_19_1.png" src="_images/ScriptFood_Analyse_p3_19_1.png" />
</div>
</div>
<p>Les produits qui contiennent potentiellement de l’huile de palme ont les meilleurs notes.</p>
<p>Confirmons nos résultats précédents en vérifiant le lien entre nos variables quantitatives et le grade du nutriscore</p>
</div>
</div>
<div class="section" id="statistiques-inferentielles-anova-et-test-de-krusdall-wallis">
<h2>2) Statistiques inférentielles : ANOVA et Test de Krusdall-Wallis<a class="headerlink" href="#statistiques-inferentielles-anova-et-test-de-krusdall-wallis" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="a-essayons-de-modeliser-nos-donnees-avec-une-anova">
<h2>a) Essayons de modéliser nos données avec une ANOVA<a class="headerlink" href="#a-essayons-de-modeliser-nos-donnees-avec-une-anova" title="Permalink to this headline">¶</a></h2>
<p>Pour cela, nous pourrions modéliser nos données en réalisant une ANOVA.
Mais nous devons vérifier 3 hypothèses :</p>
<ul class="simple">
<li><p>l’indépendance entre chaque groupe</p></li>
<li><p>l’égalité des variances</p></li>
<li><p>la normalité des résidus (cela permet de ne pas affirmer qu’il existe une différence de moyenne entre les groupes qui serait causée par le hasard).</p></li>
</ul>
<div class="section" id="l-independance-entre-nos-groupes">
<h3>L’indépendance entre nos groupes<a class="headerlink" href="#l-independance-entre-nos-groupes" title="Permalink to this headline">¶</a></h3>
<p>Selon le contexte, nous savons que chaque lettre du nutriscore est indépendante car elle représente un classement des aliments.</p>
</div>
<div class="section" id="l-egalite-des-variances">
<h3>L’égalité des variances<a class="headerlink" href="#l-egalite-des-variances" title="Permalink to this headline">¶</a></h3>
<p>Réalisons un test de bartlet afin de confirmer ce que nous avons vu lors de l’analyse bivariée.</p>
<p>H0 : Les variances de chaque groupe sont égales si p-value &gt; 5%</p>
<p>H1 : Les variances de chaque groupe ne sont pas toutes égales &lt; 5%</p>
<p>Définissons nos groupes</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_a</span><span class="o">=</span><span class="n">dataN</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;A&quot;</span><span class="p">]</span>
<span class="n">data_b</span><span class="o">=</span><span class="n">dataN</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;B&quot;</span><span class="p">]</span>
<span class="n">data_c</span><span class="o">=</span><span class="n">dataN</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;C&quot;</span><span class="p">]</span>
<span class="n">data_d</span><span class="o">=</span><span class="n">dataN</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;D&quot;</span><span class="p">]</span>
<span class="n">data_e</span><span class="o">=</span><span class="n">dataN</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;E&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Effectuons le test pour chaque variable quantitative</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">dataN</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;float64&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;colonne &quot;</span><span class="o">+</span><span class="n">col</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">bartlett</span><span class="p">(</span><span class="n">data_a</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">data_b</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">data_c</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">data_d</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">data_e</span><span class="p">[</span><span class="n">col</span><span class="p">])))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>colonne energy_100g BartlettResult(statistic=846.0396600055439, pvalue=8.169740494572308e-182)
colonne carbohydrates_100g BartlettResult(statistic=3015.4186311168914, pvalue=0.0)
colonne proteins_100g BartlettResult(statistic=2648.2872056698593, pvalue=0.0)
colonne fat_100g BartlettResult(statistic=12456.731310705556, pvalue=0.0)
colonne saturated_fat_100g BartlettResult(statistic=49645.701046678405, pvalue=0.0)
colonne fiber_100g BartlettResult(statistic=35782.67835417051, pvalue=0.0)
colonne sugars_100g BartlettResult(statistic=29343.982441035932, pvalue=0.0)
colonne salt_100g BartlettResult(statistic=95848.24729294154, pvalue=0.0)
colonne additives_n BartlettResult(statistic=1748.288670027734, pvalue=0.0)
colonne ingredients_from_palm_oil_n BartlettResult(statistic=11517.660740208745, pvalue=0.0)
colonne ingredients_that_may_be_from_palm_oil_n BartlettResult(statistic=8327.627219500984, pvalue=0.0)
colonne nutrition_score_fr_100g BartlettResult(statistic=21060.85990552185, pvalue=0.0)
colonne reg_additives BartlettResult(statistic=1008.8593205950986, pvalue=4.291832346596024e-217)
colonne reg_energy BartlettResult(statistic=593.991230010957, pvalue=3.0949463649787334e-127)
colonne reg_fat BartlettResult(statistic=4422.819150297577, pvalue=0.0)
colonne reg_carbohydrates BartlettResult(statistic=2940.225122609411, pvalue=0.0)
colonne reg_fiber BartlettResult(statistic=6596.04745428902, pvalue=0.0)
colonne reg_protein BartlettResult(statistic=1229.7056674208332, pvalue=5.784743157698051e-265)
</pre></div>
</div>
</div>
</div>
<p>Nous rejetons h0 pour toutes nos variables. Les variances ne sont pas égales.</p>
<p>La deuxième condition pour effectuer une ANOVA n’est pas validée.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">from</span> <span class="nn">statsmodels.formula.api</span> <span class="kn">import</span> <span class="n">ols</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ols</span><span class="p">(</span><span class="s1">&#39;energy_100g ~ nutrition_grade_fr &#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">dataN</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">anova</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">anova_lm</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">anova</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sum_sq</th>
      <th>df</th>
      <th>F</th>
      <th>PR(&gt;F)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>nutrition_grade_fr</th>
      <td>7.275993e+08</td>
      <td>4.0</td>
      <td>3733.594338</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Residual</th>
      <td>3.158648e+09</td>
      <td>64833.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>H0 : les moyennes sont équivalent dans les groupes
H1 : les moyennes sont différentes</p>
<p>P&lt;0.05 on rejette H0. et on admet H1.</p>
<div class="section" id="les-residus-doivent-suivre-une-loi-normale">
<h4>Les résidus doivent suivre une loi normale<a class="headerlink" href="#les-residus-doivent-suivre-une-loi-normale" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">import</span> <span class="nn">pylab</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">shapiro</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ols</span><span class="p">(</span><span class="s1">&#39;energy_100g ~ nutrition_grade_fr&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">dataN</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">normaltest</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">resid</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NormaltestResult(statistic=1991.2854177732297, pvalue=0.0)
</pre></div>
</div>
</div>
</div>
<p>~H0 : Les résidus suivent une loi normale si p-value &gt; 5%~
H1 : Les résidus ne suivent pas une loi normale si p-value &lt; 5%</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">from</span> <span class="nn">statsmodels.formula.api</span> <span class="kn">import</span> <span class="n">ols</span>
<span class="kn">import</span> <span class="nn">pylab</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">shapiro</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ols</span><span class="p">(</span><span class="s1">&#39;energy_100g ~ nutrition_grade_fr&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">dataN</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>


<span class="n">sm</span><span class="o">.</span><span class="n">qqplot</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="s1">&#39;45&#39;</span><span class="p">)</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ScriptFood_Analyse_p3_39_0.png" src="_images/ScriptFood_Analyse_p3_39_0.png" />
</div>
</div>
</div>
</div>
</div>
<div class="section" id="b-utilisons-le-test-de-krusdall-utilise-les-rangs-au-lieu-des-moyennes">
<h2>b) Utilisons le test de Krusdall (utilise les rangs au lieu des moyennes)<a class="headerlink" href="#b-utilisons-le-test-de-krusdall-utilise-les-rangs-au-lieu-des-moyennes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>H0 :  la médiane de la population de tous les groupes est égale pvalue&gt;0.05</p></li>
<li><p>H1 :  la médiane de la population d’au moins un groupe n’est pas égale p-value&lt;0.05</p></li>
</ul>
<p>Test Krusdall(utilise mediane et quantile)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">dataN</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;float64&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;colonne &quot;</span><span class="o">+</span><span class="n">col</span><span class="o">+</span><span class="s2">&quot;: &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">kruskal</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">group</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">dataN</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;nutrition_grade_fr&quot;</span><span class="p">)])))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>colonne energy_100g: KruskalResult(statistic=10977.657873471639, pvalue=0.0)
colonne carbohydrates_100g: KruskalResult(statistic=1628.72575911094, pvalue=0.0)
colonne proteins_100g: KruskalResult(statistic=5002.772095817699, pvalue=0.0)
colonne fat_100g: KruskalResult(statistic=5485.459989451589, pvalue=0.0)
colonne saturated_fat_100g: KruskalResult(statistic=5587.963110374479, pvalue=0.0)
colonne fiber_100g: KruskalResult(statistic=14370.996258380785, pvalue=0.0)
colonne sugars_100g: KruskalResult(statistic=4696.182604690141, pvalue=0.0)
colonne salt_100g: KruskalResult(statistic=10133.075625299856, pvalue=0.0)
colonne additives_n: KruskalResult(statistic=4504.759402805176, pvalue=0.0)
colonne ingredients_from_palm_oil_n: KruskalResult(statistic=125.62260217216718, pvalue=3.3596662525280636e-26)
colonne ingredients_that_may_be_from_palm_oil_n: KruskalResult(statistic=511.2103130067605, pvalue=2.5197436759142743e-109)
colonne nutrition_score_fr_100g: KruskalResult(statistic=59777.556174010606, pvalue=0.0)
colonne reg_additives: KruskalResult(statistic=3628.943429937368, pvalue=0.0)
colonne reg_energy: KruskalResult(statistic=10650.922844617313, pvalue=0.0)
colonne reg_fat: KruskalResult(statistic=8547.049271211701, pvalue=0.0)
colonne reg_carbohydrates: KruskalResult(statistic=nan, pvalue=nan)
colonne reg_fiber: KruskalResult(statistic=12961.983248596376, pvalue=0.0)
colonne reg_protein: KruskalResult(statistic=3955.44412160165, pvalue=0.0)
</pre></div>
</div>
</div>
</div>
<p>Signatifivement différent on rejette H0 car pvalue&lt;5%</p>
<p>Selon le test, la mediane d’un groupe sont significativement différents pour chacunes des variables.</p>
</div>
<div class="section" id="conclusion-nutriscore">
<h2>Conclusion Nutriscore<a class="headerlink" href="#conclusion-nutriscore" title="Permalink to this headline">¶</a></h2>
<p>les aliments avec une note A ?</p>
<ul class="simple">
<li><p>riches en fibres et en proteines</p></li>
<li><p>peu de sel, de sucre et de matières grasses (y compris en graisses saturés)</p></li>
<li><p>contiennent des fruits, végétaux ou des arachides</p></li>
<li><p>faible en additifs</p></li>
<li><p>apport en energie proche de la moyenne</p></li>
</ul>
<p>les aliments avec une note E ?</p>
<ul class="simple">
<li><p>riches en sucre, en additif et en glucides</p></li>
<li><p>pauvres en fibres, proteines, sel</p></li>
<li><p>une energie qui varie beaucoup dans les extrêmes.</p></li>
</ul>
<p>Cependant, nous avons besoin d’une alimentation équilibrée.</p>
<p>Voici l’apport quotidien pour un adulte :</p>
<p>Glucides = 250g (carbohydrates)</p>
<p>lipides = 50 insaturé et 20 sature</p>
<p>Protéines =	45 g pour une personne de 55 kg
60 g pour une personne de 75 kg</p>
<p>Fibres =	25 à 30 g dont une moitié issue des céréales et l’autre issue des fruits et légumes</p>
<p>Donc si nous mangeons que des produits A, cela ne nous permet pas de manger équilibrer et ne permet pas d’améliorer la santé.
Comment pouvons - nous améliorer la santé des français?</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "venv"
        },
        kernelOptions: {
            kernelName: "venv",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'venv'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="ScriptFood_Analyse_p2.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">II - Présentation de la base de données</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="ScriptFood_Analyse_p4.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">IV - Objectif une meilleure santé pour tous : Application Smart Food</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          Par Aurélie ANAÏS<br/>
        
            &copy; droits d'auteur 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>